<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width"
  />
  <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
  <title>收货地址</title>
  <link rel="stylesheet" type="text/css" href="../../css/records/shipping-address.css">
</head>

<body>
  <header class="header">
    <img src="../../image/common/back.png" class="back" onclick="javascript: kill();">
    <p class="header-title">我的收货地址</p>
    <span class="compile" onclick="javascript: create('add-shipping-address');">编辑</span>
  </header>
  <div class="content">
    <ul class="address-list" id="list">
      <li>
        <div class="box">
          <p class="name">张三丰</p>
          <p class="phone">
            <span id="phone-head">185</span>
            <span>****</span>
            <span id="phone-tail">9898</span>
          </p>
          <p class="address">浙江省杭州市西湖区一秀小区2幢4单元202室</p>
        </div>
      </li>
    </ul>
  </div>
  <script type="text/javascript" charset="utf-8" src="../../script/global/api.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../script/global/request.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../script/global/request-status.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../script/component/router.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../script/component/base.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../script/global/urls.js"></script>
  <script type="text/javascript" charset="utf-8">
    apiready = function () {
        init()
    }

    function init() {
      // if (checkNet() && checkLogin()) {
        request({
          url: 'GetRA',
          data: {
            'deviceId': api.deviceId,
            'phone':'13476615091'
          },
          tip: '正在发送...',
          operation:{
            success:function (data) {
              render(data);
            },
            fail:function () {

            }
          }
        });
    }

    function render(data) {
      var htmlStr = '';
      for (var i = 0; i < data.length; i++) {
        htmlStr += setHtml(data[i]);
      }
      $api.html('list', htmlStr);
    }

    function setHtml(data) {
      return htmlStr = '<li data-id="' + data.Id + '">' +
        '<div class="box">' +
        '<p class="name">' + data.Addressee + '</p>' +
        '<p class="phone">' +
          '<span id="phone-head">' + data.AddresseePhone.substr(0, 3) + '</span>'+
          '<span>****</span>' +
          '<span id="phone-tail">' + data.AddresseePhone.substr(-4) + '</span>' +
        '</p>' +
          '<p class="address">' + data.CurrentAddress+data.DetailAddress + '</p>' +
        '</div>' +
      '</li>';
    }
  </script>
</body>

</html>
